

1.网络通讯的4个安全要素
 1)机密性
   信息是否会泄露给他人
   解决:进行信息加密
 
 2)完整性
   怎样知道信息是否被篡改过
   解决:采用MD    --->    发送者将明文的MD以及加密后的明文一起发送
                          接收者解密出明文后，也生成MD，然后进行MD的匹配
 
 3)鉴别与授权
   是否与身份正确的人通信
   解决:用数字证书进行身份认证
 
 4)不可抵赖
   发出的信息不可抵赖
   解决:采用数字签名


2.A与B通信时，A首先将对称密钥(用B的公钥加密)连同数字签名(用A的私钥加密的摘要)一同发给B
  B先用A的公钥解密数字签名，验证A的身份
  然后用B的私钥解密出对称密钥

  可见通信双方都必须持有对方的公钥
  怎样获得对方的公钥?
  怎样才能知道一个公钥属于谁?
  如果收到一个自称是某人的公钥，能相信吗?

  数字证书:公钥和用户身份的结合
  先由CA来证实用户的身份，再用CA的私钥对 用户身份和公钥相结合的证书 进行签名，以证实CA的有效性
  通常电脑中都有 知名CA机构的公钥

  基于数字证书的A与B通信:
  1)A先将自己的证书发给B
  2)B要进行证书验证:
    a.用证书颁发者的公钥进行解密
    b.用证书中指定的 hash算法 对整个证书进行hash运算,得到MD
      将原有的MD与新生成的MD进行比较，看证书是否被篡改过
    c.查看证书中的用户身份是否就是A
    d.取出证书中的公钥

  3)二次身份认证:B向A随机发送一个字符串
                 A收到后用私钥进行加密，然后将密文发送给B
                 B用A的公钥解开密文，若密文中的字符串与之前的随机字符串一致，则能确认A的身份
  
  4)B将 对称加密算法和对称密钥 用A的公钥加密，再发送给A
    只有A的私钥能进行解密
  
3.PKI(Public Key Infrastructure)
  提供信息加密，数字签名，数字证书等等技术来保护网络通信安全
  其由以下部分组成:
  1)CA(Certification Authorities)
    可信任的机构
    功能:
    签发数字证书
    证书管理:颁发，废除，更新
    CA密钥的管理
    提供证书和证书状态查询

  2)RA(Registration Authorities)
    受理证书申请和管理请求
    对证书申请者的身份进行审核并提交CA制证
    提供证书生命周期的维护工作
  3)CH(Certificate Holders)
    个人，企业...

  4)RP(Replying Parites)
    提供良好的应用接口，在此基础上提供多种安全应用服务
    比如:安全电子邮件，网上信用卡交易，web服务器和浏览器之间的安全通信

  5)Repositories
    证书库

  证书在有效期内可能因为以下原因而而需要废除:
  1)证书用户身份信息的变更
  2)CA 签名私钥的 泄露
  3)证书遭到破坏
  废除的证书被加入到 证书撤销列表(CRL)中
  CA周期性发布CRL,由用户本地存储
  被撤销的证书会一直保存在CRL中，直到过期

